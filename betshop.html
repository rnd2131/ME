<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appwrite Products</title>
</head>
<body>
    <h1>Products Collection</h1>
    <div id="products-list">
        <!-- The product items will be displayed here -->
    </div>

    <!-- Include Appwrite SDK -->
    <script src="https://cdn.jsdelivr.net/npm/appwrite@11.0.0"></script>

    <script>
        // Initialize the client
        const client = new Appwrite.Client()
            .setEndpoint('https://cloud.appwrite.io/v1') // Your Appwrite endpoint
            .setProject('66bf2f0c001ed3fc6a5e'); // Your project ID

        // Initialize the databases
        const databases = new Appwrite.Databases(client);

        // Define your database and collection IDs
        const databaseId = 'products';
        const collectionId = '66bf3028000c0a34101e';

        // Function to fetch and display the collection
        async function getProducts() {
            try {
                // Fetch the products collection
                const response = await databases.listDocuments(databaseId, collectionId);

                // Get the element to display products
                const productsList = document.getElementById('products-list');

                // Loop through the documents and create HTML elements
                response.documents.forEach(product => {
                    const productItem = document.createElement('div');
                    productItem.className = 'product-item';

                    // Assuming your documents have 'name' and 'description' fields
                    productItem.innerHTML = `
                        <h2>${product.name}</h2>
                        <p>${product.description}</p>
                    `;

                    // Append the product item to the products list
                    productsList.appendChild(productItem);
                });
            } catch (error) {
                console.error('Failed to fetch products:', error);
            }
        }

        // Call the function to fetch and display products when the page loads
        getProducts();
    </script>
</body>
</html>
